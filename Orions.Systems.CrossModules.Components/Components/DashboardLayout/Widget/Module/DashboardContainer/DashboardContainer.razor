@namespace Orions.Systems.CrossModules.Components

@inherits DashboardComponent<DashboardContainerVm, DashboardContainerWidget>

@if (Showing)
{
   @if (Dashboard != null)
   {
      <DashboardLayout HyperStore="@HyperStore"
                       Data="@Dashboard"
                       ParrentDashboardId="@Widget.Dashboard?.Id"
                       EnableBetweenBox="true"
                       IsPreviewMode="true"
                       DisableModeOption="true"
                       HideModeOption="true"
                       IsHideTitle="true">
      </DashboardLayout>
   }
}
else
{
<Loader Settings="@Widget.LoaderSettings"></Loader>
}


@code {

   private DashboardData Dashboard { get; set; }

   public bool Showing { get; set; } = false;

   protected override async Task OnInitializedAsync()
   {
      await base.OnInitializedAsync();

      Dashboard = await this.Vm.SetDashboardAsync();

      Showing = true;
      StateHasChanged();
   }

}
