@namespace Orions.Systems.CrossModules.Components

@inherits WorkflowDesignerBase

<div class="workflow-designer-container">

	<div id="confirm"></div>
	<div id="loading" class="ui-loading ui-loading-firstload"></div>
	<div id="success"><span class="fa fa-refresh fa-spin"></span></div>

	<!-- Settings -->
	<div class="panel">
		<section class="tabs">
			<!-- Nav tabs -->
			<nav>
				<a href="#" class="exec onlyicon" onclick="wFlowDiagram.Manage.toggleCommonMenu()"><i class="fa fa-chevron-right"></i></a>
				<a href="#" class="exec"><i class="fa fa-cogs"></i>Settings</a>
				<a href="#" class="exec"><i class="fa fa-history"></i>Console</a>
				@*<a href="#" class="exec"><i class="fa fa-info-circle"></i>Info</a>
					<a href="#" class="exec"><i class="fa fa-bug"></i>Errors</a>
					<a href="#" class="exec"><i class="fa fa-tasks"></i>Traffic</a>*@
			</nav>
		</section>
		<div class="tab-content scroller">
			<div class="container-fluid m-t-md" id="nodeSettingsId">
				<h4 class="nodeSettingsId"> Node Id: <span style="color:#d4d4d4;"></span></h4>
				<div class="nodeSettingsReadme">
					<p style="color:#d4d4d4;"></p>
				</div>
				<form>
					<div class="form-group">
						<label for="nodeUpdateNameId" class="col-form-label">Node Name</label>
						<input type="text" class="form-control" id="nodeUpdateNameId">
					</div>
					<div class="form-group">
						<label for="mycp" class="col-form-label">Node Color</label>
						<div id="mycp" class="input-group colorpicker-component" title="Using input value">
							<input type="text" class="form-control input-lg" />
							<span class="input-group-addon"><i class="colorSp"></i></span>
						</div>
					</div>
					<input type="hidden" name="nodeConfigId" id="nodeConfigId" />
					<input type="hidden" name="nodeConfigOriginalName" id="nodeConfigOriginalName" />
				</form>
				<button type="button" class="btn btn-primary" id="saveNodeUpdateChanges">Save</button>
			</div>
		</div>
	</div>

	<div class="mainmenu">
		<section class="tabs">
			<nav>
				<a href="#" id="applyFlowDesignId" class="exec highlight" onclick="wFlowDiagram.Manage.Apply()"><i class="fa fa-play-circle"></i>APPLY</a>
				<a href="#" title="Settings" class="exec onlyicon br" data-toggle="modal" data-target="#workflowDesignerSettings"><i class="fa fa-cogs"></i></a>
				<a href="#" class="exec onlyicon nb" style="float:right;padding-left:0" onclick="wFlowDiagram.Manage.toggleMainMenu()">
					<i class="fa fa-chevron-left"></i>
				</a>
			</nav>
		</section>

		<div>
			<div class="components-container">
				<div class="scroller">
					<ul class="components"></ul>
				</div>
			</div>
		</div>
	</div>

	<div class="body">
		<section class="tabs">
			<a href="#" class="workflowTabName"><i class="fa fa-plus"></i></a>
			<a href="#" class="workflowRefreshTrafic hidden"><i class="fa fa-spinner fa-spin" style="font-size:20px"></i></a>
		</section>
		<div class="designer-container">
			<div id="designerstate"></div>
			<nav id="designerbuttons">
				<button class="exec disabled" title="Copy component" onclick="wFlowDiagram.Manage.Designer.Copy(this)">
					<i class="fa fa-file"></i>
				</button>
				<button class="exec disabled" name="paste" title="Paste component" onclick="wFlowDiagram.Manage.Designer.Paste(this)">
					<i class="fa fa-paste"></i>
				</button>
				<button class="exec disabled" title="Duplicate component" onclick="wFlowDiagram.Manage.Designer.Duplicate(this)">
					<i class="fa fa-copy"></i>
				</button>
				<button class="exec disabled designerbuttons-remove" title="Remove selection" onclick="wFlowDiagram.Manage.Designer.Remove(this)">
					<i class="fa fa-trash"></i>
				</button>
			</nav>
			<div id="designerzoom">
				<button class="exec" title="Zoom in" onclick="wFlowDiagram.Manage.Designer.Zoomin(this)"><i class="fa fa-search-plus"></i></button>
				<button class="exec" title="Reset zoom" onclick="wFlowDiagram.Manage.Designer.Zoomreset(this)">
					<i class="fa fa-sort"></i>
				</button>
				<button class="exec" title="Zoom out" onclick="wFlowDiagram.Manage.Designer.Zoomout(this)">
					<i class="fa fa-search-minus"></i>
				</button>
			</div>
			<div class="designer-scrollbar">
				<div class="designer-shadow-top"></div>
				<div class="designer-shadow-right"></div>
				<div class="designer-shadow-bottom"></div>
				<div class="designer-shadow-left"></div>
				<div class="designer" data-jc="designer" data-jc-path="flow.designer"></div>
			</div>
		</div>
	</div>

	<div id="flowsettings"></div>

	<div id="tmpclone"></div>

</div>

@if (Vm.IsShowDesignerSetting)
{
	<div class="modal fade show" id="workflowDesignerSettings" tabindex="-1" role="dialog" aria-labelledby="workflowDesignerSettingsLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title">Workflow Designer Settings</h3>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form>
						<div class="form-group">
							<label for="refreshNodeStatuses">Refresh Statuses in miliseconds</label>
							<input type="text" class="form-control" id="refreshNodeStatuses">
						</div>
						<div class="form-check">
							<input class="form-check-input" type="checkbox" value="" id="isClosedLeftMenu">
							<label class="form-check-label" for="isClosedLeftMenu">
								Left menu is minimized
							</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="checkbox" value="" id="isClosedRightMenu">
							<label class="form-check-label" for="isClosedRightMenu">
								Right menu is minimized
							</label>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="saveGeneralDesignerSettings">Save changes</button>
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal-backdrop fade show"></div>
}

<style>


	.header {
		display: none;
	}

	#dockSidebar .e-sidebar {
		background: #1b1a1d !important;
	}

	/*html {
		height: 100%;
		overflow: hidden;
	}

	
	body {
		height: 100%;
		overflow: hidden;
		background-color: #E6E9ED;
		font-smoothing: antialiased;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: antialiased;
	}

	.body {
		margin-left: 260px;
		margin-right: 380px;
		height: 100%;
		border-left: 1px solid #D0D0D0;
		border-right: 1px solid #D0D0D0;
		overflow: hidden;
		background-color: #F0F0F0;
		position: relative;
		transition: margin 0.3s;
		-webkit-transition: margin 0.3s;
		-moz-transition: margin 0.3s;
		-ms-transition: margin 0.3s;
	}*/

	/*body,
	ul.nav-second-level,
	body.mini-navbar .nav-header,
	.mini-navbar .nav .nav-second-level,
	.navbar-default,
	.nav-header,
	.k-window-titlebar,
	.k-window-actions,
	.k-header.k-grid-toolbar,
	.logo-element img {
		background-color: #202020;
	}

		.navbar-default .nav > li > a:hover,
		.navbar-default .nav > li > a:focus,
		.nav > li.active {
			background-color: #101010;
		}

	.logo-element img {
		box-shadow: none;
	}

	#page-wrapper,
	.wrapper.wrapper-content {
		padding: 0px !important;
		background-color: #202020;
	}

	.mini-navbar .nav .nav-second-level {
		padding: 0px;
	}

		.mini-navbar .nav .nav-second-level li:last-child {
			margin-bottom: 0px;
		}*/
</style>