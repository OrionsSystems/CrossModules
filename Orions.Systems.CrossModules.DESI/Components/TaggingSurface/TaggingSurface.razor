@using Orions.Systems.CrossModules.Desi.Components.TaggingSurface.Media;

@inherits TaggingSurfaceBase

<div class="tagging-surface-container" id="@this.ComponentId">
	<div class="tagging-surface-child-content">
		@ChildContent
	</div>

	@if (MediaDataStore.Data.MediaInstances?.Count == 1)
	{
			<MediaComponent Media="@MediaDataStore.Data.MediaInstances[0]"
							ActionDispatcher="@ActionDispatcher"
							TaskDataStore="@TaskDataStore"
							TagsStore="@TagsStore"
							OnMediaPaused="async () => { _mediaPaused = true; this.OverlayMediaWithCanvas(true); }"
							OnMediaPlay="async () => { _mediaPaused = false; this.OverlayMediaWithCanvas(false); }"
							OnMediaLoading="async () => { if (!_mediaPaused) this.OverlayMediaWithCanvas(false); }"
							OnMediaLoaded="async () => this.OverlayMediaWithCanvas(true)"/>
		<canvas class="tagging-canvas">
		</canvas>
	}
	else if (MediaDataStore.Data.MediaInstances?.Count == 2)
	{
		<div> *** comparative tagging is not yet implemented *** </div>
	}

</div>